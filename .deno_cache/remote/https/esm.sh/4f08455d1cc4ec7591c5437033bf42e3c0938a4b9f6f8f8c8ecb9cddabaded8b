/* esm.sh - node-gyp-build@4.8.4 */
import __Process$ from "node:process";
import*as __0$ from"node:fs";import*as __1$ from"node:path";import*as __2$ from"node:os";var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({__esModule:true},m);switch(n){case"node:fs":return e(__0$);case"node:path":return e(__1$);case"node:os":return e(__2$);default:console.error('module "'+n+'" not found');return null;}};
var z=Object.create;var q=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var J=Object.getPrototypeOf,K=Object.prototype.hasOwnProperty;var c=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,n)=>(typeof require<"u"?require:r)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var j=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Q=(e,r,n,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of H(r))!K.call(e,t)&&t!==n&&q(e,t,{get:()=>r[t],enumerable:!(i=G(r,t))||i.enumerable});return e};var W=(e,r,n)=>(n=e!=null?z(J(e)):{},Q(r||!e||!e.__esModule?q(n,"default",{value:e,enumerable:!0}):n,e));var F=j((te,C)=>{var E=c("node:fs"),u=c("node:path"),B=c("node:os"),N=typeof __webpack_require__=="function"?__non_webpack_require__:c,X=__Process$.config&&__Process$.config.variables||{},Z=!!__Process$.env.PREBUILDS_ONLY,R=__Process$.versions.modules,p=ne()?"electron":re()?"node-webkit":"node",f=__Process$.env.npm_config_arch||B.arch(),v=__Process$.env.npm_config_platform||B.platform(),L=__Process$.env.LIBC||(ie(v)?"musl":"glibc"),m=__Process$.env.ARM_VERSION||(f==="arm64"?"8":X.arm_version)||"",S=(__Process$.versions.uv||"").split(".")[0];C.exports=o;function o(e){return N(o.resolve(e))}o.resolve=o.path=function(e){e=u.resolve(e||".");try{var r=N(u.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");__Process$.env[r+"_PREBUILD"]&&(e=__Process$.env[r+"_PREBUILD"])}catch{}if(!Z){var n=k(u.join(e,"build/Release"),x);if(n)return n;var i=k(u.join(e,"build/Debug"),x);if(i)return i}var t=h(e);if(t)return t;var s=h(u.dirname(__Process$.execPath));if(s)return s;var V=["platform="+v,"arch="+f,"runtime="+p,"abi="+R,"uv="+S,m?"armv="+m:"","libc="+L,"node="+__Process$.versions.node,__Process$.versions.electron?"electron="+__Process$.versions.electron:"",typeof __webpack_require__=="function"?"webpack=true":""].filter(Boolean).join(" ");throw new Error("No native build was found for "+V+`
    loaded from: `+e+`
`);function h(l){var Y=_(u.join(l,"prebuilds")).map(D),w=Y.filter(I(v,f)).sort(O)[0];if(w){var y=u.join(l,"prebuilds",w.name),$=_(y).map(U),g=$.filter(A(p,R)),T=g.sort(P(p))[0];if(T)return u.join(y,T.file)}}};function _(e){try{return E.readdirSync(e)}catch{return[]}}function k(e,r){var n=_(e).filter(r);return n[0]&&u.join(e,n[0])}function x(e){return/\.node$/.test(e)}function D(e){var r=e.split("-");if(r.length===2){var n=r[0],i=r[1].split("+");if(n&&i.length&&i.every(Boolean))return{name:e,platform:n,architectures:i}}}function I(e,r){return function(n){return n==null||n.platform!==e?!1:n.architectures.includes(r)}}function O(e,r){return e.architectures.length-r.architectures.length}function U(e){var r=e.split("."),n=r.pop(),i={file:e,specificity:0};if(n==="node"){for(var t=0;t<r.length;t++){var s=r[t];if(s==="node"||s==="electron"||s==="node-webkit")i.runtime=s;else if(s==="napi")i.napi=!0;else if(s.slice(0,3)==="abi")i.abi=s.slice(3);else if(s.slice(0,2)==="uv")i.uv=s.slice(2);else if(s.slice(0,4)==="armv")i.armv=s.slice(4);else if(s==="glibc"||s==="musl")i.libc=s;else continue;i.specificity++}return i}}function A(e,r){return function(n){return!(n==null||n.runtime&&n.runtime!==e&&!ee(n)||n.abi&&n.abi!==r&&!n.napi||n.uv&&n.uv!==S||n.armv&&n.armv!==m||n.libc&&n.libc!==L)}}function ee(e){return e.runtime==="node"&&e.napi}function P(e){return function(r,n){return r.runtime!==n.runtime?r.runtime===e?-1:1:r.abi!==n.abi?r.abi?-1:1:r.specificity!==n.specificity?r.specificity>n.specificity?-1:1:0}}function re(){return!!(__Process$.versions&&__Process$.versions.nw)}function ne(){return __Process$.versions&&__Process$.versions.electron||__Process$.env.ELECTRON_RUN_AS_NODE?!0:typeof globalThis<"u"&&globalThis.process&&globalThis.process.type==="renderer"}function ie(e){return e==="linux"&&E.existsSync("/etc/alpine-release")}o.parseTags=U;o.matchTags=A;o.compareTags=P;o.parseTuple=D;o.matchTuple=I;o.compareTuples=O});var M=j((ue,b)=>{var d=typeof __webpack_require__=="function"?__non_webpack_require__:c;typeof d.addon=="function"?b.exports=d.addon.bind(d):b.exports=F()});var a=W(M()),{resolve:ae,parseTags:le,matchTags:pe,compareTags:fe,parseTuple:ve,matchTuple:me,compareTuples:_e}=a,de=a.default??a;export{fe as compareTags,_e as compareTuples,de as default,pe as matchTags,me as matchTuple,le as parseTags,ve as parseTuple,ae as resolve};
//# sourceMappingURL=node-gyp-build.mjs.map
// denoCacheMetadata={"headers":{"access-control-allow-origin":"*","age":"261088","cf-ray":"941f7c640dac96a6-KIX","cache-control":"public, max-age=31536000, immutable","last-modified":"Wed, 15 Jan 2025 08:29:29 GMT","server":"cloudflare","alt-svc":"h3=\":443\"; ma=86400","date":"Mon, 19 May 2025 00:30:28 GMT","content-type":"application/javascript; charset=utf-8","vary":"Accept-Encoding","cf-cache-status":"HIT"},"url":"https://esm.sh/node-gyp-build@4.8.4/denonext/node-gyp-build.mjs","time":1747614628}