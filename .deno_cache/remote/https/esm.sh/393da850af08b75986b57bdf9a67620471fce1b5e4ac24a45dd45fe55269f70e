/* esm.sh - whatwg-url@5.0.0 */
import { Buffer as __Buffer$ } from "node:buffer";
import*as __0$ from"/webidl-conversions@^3.0.0?target=denonext";import*as __1$ from"node:punycode";import*as __2$ from"/tr46@~0.0.3?target=denonext";var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({__esModule:true},m);switch(n){case"webidl-conversions":return e(__0$);case"node:punycode":return e(__1$);case"tr46":return e(__2$);default:console.error('module "'+n+'" not found');return null;}};
var V=Object.create;var B=Object.defineProperty;var ee=Object.getOwnPropertyDescriptor;var te=Object.getOwnPropertyNames;var re=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty;var E=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var L=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ie=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of te(t))!se.call(e,i)&&i!==r&&B(e,i,{get:()=>t[i],enumerable:!(s=ee(t,i))||s.enumerable});return e};var ne=(e,t,r)=>(r=e!=null?V(re(e)):{},ie(t||!e||!e.__esModule?B(r,"default",{value:e,enumerable:!0}):r,e));var C=L((Ie,S)=>{"use strict";S.exports.mixin=function(t,r){let s=Object.getOwnPropertyNames(r);for(let i=0;i<s.length;++i)Object.defineProperty(t,s[i],Object.getOwnPropertyDescriptor(r,s[i]))};S.exports.wrapperSymbol=Symbol("wrapper");S.exports.implSymbol=Symbol("impl");S.exports.wrapperForImpl=function(e){return e[S.exports.wrapperSymbol]};S.exports.implForWrapper=function(e){return e[S.exports.implSymbol]}});var g=L((_e,c)=>{"use strict";var P=E("node:punycode"),F=E("tr46"),D={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},h=Symbol("failure");function T(e){return P.ucs2.decode(e).length}function H(e,t){let r=e[t];return isNaN(r)?void 0:String.fromCodePoint(r)}function R(e){return e>=48&&e<=57}function O(e){return e>=65&&e<=90||e>=97&&e<=122}function he(e){return O(e)||R(e)}function m(e){return R(e)||e>=65&&e<=70||e>=97&&e<=102}function j(e){return e==="."||e.toLowerCase()==="%2e"}function ue(e){return e=e.toLowerCase(),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"}function ae(e,t){return O(e)&&(t===58||t===124)}function k(e){return e.length===2&&O(e.codePointAt(0))&&(e[1]===":"||e[1]==="|")}function oe(e){return e.length===2&&O(e.codePointAt(0))&&e[1]===":"}function le(e){return e.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/)!==-1}function fe(e){return e.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/)!==-1}function A(e){return D[e]!==void 0}function f(e){return A(e.scheme)}function pe(e){return D[e]}function W(e){let t=e.toString(16).toUpperCase();return t.length===1&&(t="0"+t),"%"+t}function ce(e){let t=new __Buffer$(e),r="";for(let s=0;s<t.length;++s)r+=W(t[s]);return r}function be(e){let t=new __Buffer$(e),r=[];for(let s=0;s<t.length;++s)t[s]!==37?r.push(t[s]):t[s]===37&&m(t[s+1])&&m(t[s+2])?(r.push(parseInt(t.slice(s+1,s+3).toString(),16)),s+=2):r.push(t[s]);return new __Buffer$(r).toString()}function v(e){return e<=31||e>126}var me=new Set([32,34,35,60,62,63,96,123,125]);function M(e){return v(e)||me.has(e)}var de=new Set([47,58,59,61,64,91,92,93,94,124]);function I(e){return M(e)||de.has(e)}function U(e,t){let r=String.fromCodePoint(e);return t(e)?ce(r):r}function ge(e){let t=10;return e.length>=2&&e.charAt(0)==="0"&&e.charAt(1).toLowerCase()==="x"?(e=e.substring(2),t=16):e.length>=2&&e.charAt(0)==="0"&&(e=e.substring(1),t=8),e===""?0:(t===10?/[^0-9]/:t===16?/[^0-9A-Fa-f]/:/[^0-7]/).test(e)?h:parseInt(e,t)}function ye(e){let t=e.split(".");if(t[t.length-1]===""&&t.length>1&&t.pop(),t.length>4)return e;let r=[];for(let n of t){if(n==="")return e;let l=ge(n);if(l===h)return e;r.push(l)}for(let n=0;n<r.length-1;++n)if(r[n]>255)return h;if(r[r.length-1]>=Math.pow(256,5-r.length))return h;let s=r.pop(),i=0;for(let n of r)s+=n*Math.pow(256,3-i),++i;return s}function we(e){let t="",r=e;for(let s=1;s<=4;++s)t=String(r%256)+t,s!==4&&(t="."+t),r=Math.floor(r/256);return t}function Se(e){let t=[0,0,0,0,0,0,0,0],r=0,s=null,i=0;if(e=P.ucs2.decode(e),e[i]===58){if(e[i+1]!==58)return h;i+=2,++r,s=r}for(;i<e.length;){if(r===8)return h;if(e[i]===58){if(s!==null)return h;++i,++r,s=r;continue}let n=0,l=0;for(;l<4&&m(e[i]);)n=n*16+parseInt(H(e,i),16),++i,++l;if(e[i]===46){if(l===0||(i-=l,r>6))return h;let w=0;for(;e[i]!==void 0;){let d=null;if(w>0)if(e[i]===46&&w<4)++i;else return h;if(!R(e[i]))return h;for(;R(e[i]);){let z=parseInt(H(e,i));if(d===null)d=z;else{if(d===0)return h;d=d*10+z}if(d>255)return h;++i}t[r]=t[r]*256+d,++w,(w===2||w===4)&&++r}if(w!==4)return h;break}else if(e[i]===58){if(++i,e[i]===void 0)return h}else if(e[i]!==void 0)return h;t[r]=n,++r}if(s!==null){let n=r-s;for(r=7;r!==0&&n>0;){let l=t[s+n-1];t[s+n-1]=t[r],t[r]=l,--r,--n}}else if(s===null&&r!==8)return h;return t}function Ue(e){let t="",s=Le(e).idx,i=!1;for(let n=0;n<=7;++n)if(!(i&&e[n]===0)){if(i&&(i=!1),s===n){t+=n===0?"::":":",i=!0;continue}t+=e[n].toString(16),n!==7&&(t+=":")}return t}function N(e,t){if(e[0]==="[")return e[e.length-1]!=="]"?h:Se(e.substring(1,e.length-1));if(!t)return Pe(e);let r=be(e),s=F.toASCII(r,!1,F.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(s===null||le(s))return h;let i=ye(s);return typeof i=="number"||i===h?i:s}function Pe(e){if(fe(e))return h;let t="",r=P.ucs2.decode(e);for(let s=0;s<r.length;++s)t+=U(r[s],v);return t}function Le(e){let t=null,r=1,s=null,i=0;for(let n=0;n<e.length;++n)e[n]!==0?(i>r&&(t=s,r=i),s=null,i=0):(s===null&&(s=n),++i);return i>r&&(t=s,r=i),{idx:t,len:r}}function _(e){return typeof e=="number"?we(e):e instanceof Array?"["+Ue(e)+"]":e}function Re(e){return e.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function Oe(e){return e.replace(/\u0009|\u000A|\u000D/g,"")}function J(e){let t=e.path;t.length!==0&&(e.scheme==="file"&&t.length===1&&ve(t[0])||t.pop())}function Z(e){return e.username!==""||e.password!==""}function xe(e){return e.host===null||e.host===""||e.cannotBeABaseURL||e.scheme==="file"}function ve(e){return/^[A-Za-z]:$/.test(e)}function a(e,t,r,s,i){if(this.pointer=0,this.input=e,this.base=t||null,this.encodingOverride=r||"utf-8",this.stateOverride=i,this.url=s,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};let l=Re(this.input);l!==this.input&&(this.parseError=!0),this.input=l}let n=Oe(this.input);for(n!==this.input&&(this.parseError=!0),this.input=n,this.state=i||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=P.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){let l=this.input[this.pointer],w=isNaN(l)?void 0:String.fromCodePoint(l),d=this["parse "+this.state](l,w);if(d){if(d===h){this.failure=!0;break}}else break}}a.prototype["parse scheme start"]=function(t,r){if(O(t))this.buffer+=r.toLowerCase(),this.state="scheme";else if(!this.stateOverride)this.state="no scheme",--this.pointer;else return this.parseError=!0,h;return!0};a.prototype["parse scheme"]=function(t,r){if(he(t)||t===43||t===45||t===46)this.buffer+=r.toLowerCase();else if(t===58){if(this.stateOverride&&(f(this.url)&&!A(this.buffer)||!f(this.url)&&A(this.buffer)||(Z(this.url)||this.url.port!==null)&&this.buffer==="file"||this.url.scheme==="file"&&(this.url.host===""||this.url.host===null))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;this.url.scheme==="file"?((this.input[this.pointer+1]!==47||this.input[this.pointer+2]!==47)&&(this.parseError=!0),this.state="file"):f(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme?this.state="special relative or authority":f(this.url)?this.state="special authority slashes":this.input[this.pointer+1]===47?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else if(!this.stateOverride)this.buffer="",this.state="no scheme",this.pointer=-1;else return this.parseError=!0,h;return!0};a.prototype["parse no scheme"]=function(t){return this.base===null||this.base.cannotBeABaseURL&&t!==35?h:(this.base.cannotBeABaseURL&&t===35?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):this.base.scheme==="file"?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)};a.prototype["parse special relative or authority"]=function(t){return t===47&&this.input[this.pointer+1]===47?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0};a.prototype["parse path or authority"]=function(t){return t===47?this.state="authority":(this.state="path",--this.pointer),!0};a.prototype["parse relative"]=function(t){return this.url.scheme=this.base.scheme,isNaN(t)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):t===47?this.state="relative slash":t===63?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):t===35?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):f(this.url)&&t===92?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0};a.prototype["parse relative slash"]=function(t){return f(this.url)&&(t===47||t===92)?(t===92&&(this.parseError=!0),this.state="special authority ignore slashes"):t===47?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0};a.prototype["parse special authority slashes"]=function(t){return t===47&&this.input[this.pointer+1]===47?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0};a.prototype["parse special authority ignore slashes"]=function(t){return t!==47&&t!==92?(this.state="authority",--this.pointer):this.parseError=!0,!0};a.prototype["parse authority"]=function(t,r){if(t===64){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;let s=T(this.buffer);for(let i=0;i<s;++i){let n=this.buffer.codePointAt(i);if(n===58&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let l=U(n,I);this.passwordTokenSeenFlag?this.url.password+=l:this.url.username+=l}this.buffer=""}else if(isNaN(t)||t===47||t===63||t===35||f(this.url)&&t===92){if(this.atFlag&&this.buffer==="")return this.parseError=!0,h;this.pointer-=T(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=r;return!0};a.prototype["parse hostname"]=a.prototype["parse host"]=function(t,r){if(this.stateOverride&&this.url.scheme==="file")--this.pointer,this.state="file host";else if(t===58&&!this.arrFlag){if(this.buffer==="")return this.parseError=!0,h;let s=N(this.buffer,f(this.url));if(s===h)return h;if(this.url.host=s,this.buffer="",this.state="port",this.stateOverride==="hostname")return!1}else if(isNaN(t)||t===47||t===63||t===35||f(this.url)&&t===92){if(--this.pointer,f(this.url)&&this.buffer==="")return this.parseError=!0,h;if(this.stateOverride&&this.buffer===""&&(Z(this.url)||this.url.port!==null))return this.parseError=!0,!1;let s=N(this.buffer,f(this.url));if(s===h)return h;if(this.url.host=s,this.buffer="",this.state="path start",this.stateOverride)return!1}else t===91?this.arrFlag=!0:t===93&&(this.arrFlag=!1),this.buffer+=r;return!0};a.prototype["parse port"]=function(t,r){if(R(t))this.buffer+=r;else if(isNaN(t)||t===47||t===63||t===35||f(this.url)&&t===92||this.stateOverride){if(this.buffer!==""){let s=parseInt(this.buffer);if(s>Math.pow(2,16)-1)return this.parseError=!0,h;this.url.port=s===pe(this.url.scheme)?null:s,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}else return this.parseError=!0,h;return!0};var qe=new Set([47,92,63,35]);a.prototype["parse file"]=function(t){return this.url.scheme="file",t===47||t===92?(t===92&&(this.parseError=!0),this.state="file slash"):this.base!==null&&this.base.scheme==="file"?isNaN(t)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):t===63?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):t===35?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(this.input.length-this.pointer-1===0||!ae(t,this.input[this.pointer+1])||this.input.length-this.pointer-1>=2&&!qe.has(this.input[this.pointer+2])?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),J(this.url)):this.parseError=!0,this.state="path",--this.pointer):(this.state="path",--this.pointer),!0};a.prototype["parse file slash"]=function(t){return t===47||t===92?(t===92&&(this.parseError=!0),this.state="file host"):(this.base!==null&&this.base.scheme==="file"&&(oe(this.base.path[0])?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0};a.prototype["parse file host"]=function(t,r){if(isNaN(t)||t===47||t===92||t===63||t===35)if(--this.pointer,!this.stateOverride&&k(this.buffer))this.parseError=!0,this.state="path";else if(this.buffer===""){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let s=N(this.buffer,f(this.url));if(s===h)return h;if(s==="localhost"&&(s=""),this.url.host=s,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=r;return!0};a.prototype["parse path start"]=function(t){return f(this.url)?(t===92&&(this.parseError=!0),this.state="path",t!==47&&t!==92&&--this.pointer):!this.stateOverride&&t===63?(this.url.query="",this.state="query"):!this.stateOverride&&t===35?(this.url.fragment="",this.state="fragment"):t!==void 0&&(this.state="path",t!==47&&--this.pointer),!0};a.prototype["parse path"]=function(t){if(isNaN(t)||t===47||f(this.url)&&t===92||!this.stateOverride&&(t===63||t===35)){if(f(this.url)&&t===92&&(this.parseError=!0),ue(this.buffer)?(J(this.url),t!==47&&!(f(this.url)&&t===92)&&this.url.path.push("")):j(this.buffer)&&t!==47&&!(f(this.url)&&t===92)?this.url.path.push(""):j(this.buffer)||(this.url.scheme==="file"&&this.url.path.length===0&&k(this.buffer)&&(this.url.host!==""&&this.url.host!==null&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="",this.url.scheme==="file"&&(t===void 0||t===63||t===35))for(;this.url.path.length>1&&this.url.path[0]==="";)this.parseError=!0,this.url.path.shift();t===63&&(this.url.query="",this.state="query"),t===35&&(this.url.fragment="",this.state="fragment")}else t===37&&(!m(this.input[this.pointer+1])||!m(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=U(t,M);return!0};a.prototype["parse cannot-be-a-base-URL path"]=function(t){return t===63?(this.url.query="",this.state="query"):t===35?(this.url.fragment="",this.state="fragment"):(!isNaN(t)&&t!==37&&(this.parseError=!0),t===37&&(!m(this.input[this.pointer+1])||!m(this.input[this.pointer+2]))&&(this.parseError=!0),isNaN(t)||(this.url.path[0]=this.url.path[0]+U(t,v))),!0};a.prototype["parse query"]=function(t,r){if(isNaN(t)||!this.stateOverride&&t===35){(!f(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss")&&(this.encodingOverride="utf-8");let s=new __Buffer$(this.buffer);for(let i=0;i<s.length;++i)s[i]<33||s[i]>126||s[i]===34||s[i]===35||s[i]===60||s[i]===62?this.url.query+=W(s[i]):this.url.query+=String.fromCodePoint(s[i]);this.buffer="",t===35&&(this.url.fragment="",this.state="fragment")}else t===37&&(!m(this.input[this.pointer+1])||!m(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=r;return!0};a.prototype["parse fragment"]=function(t){return isNaN(t)||(t===0?this.parseError=!0:(t===37&&(!m(this.input[this.pointer+1])||!m(this.input[this.pointer+2]))&&(this.parseError=!0),this.url.fragment+=U(t,v))),!0};function Ee(e,t){let r=e.scheme+":";if(e.host!==null?(r+="//",(e.username!==""||e.password!=="")&&(r+=e.username,e.password!==""&&(r+=":"+e.password),r+="@"),r+=_(e.host),e.port!==null&&(r+=":"+e.port)):e.host===null&&e.scheme==="file"&&(r+="//"),e.cannotBeABaseURL)r+=e.path[0];else for(let s of e.path)r+="/"+s;return e.query!==null&&(r+="?"+e.query),!t&&e.fragment!==null&&(r+="#"+e.fragment),r}function Ae(e){let t=e.scheme+"://";return t+=_(e.host),e.port!==null&&(t+=":"+e.port),t}c.exports.serializeURL=Ee;c.exports.serializeURLOrigin=function(e){switch(e.scheme){case"blob":try{return c.exports.serializeURLOrigin(c.exports.parseURL(e.path[0]))}catch{return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return Ae({scheme:e.scheme,host:e.host,port:e.port});case"file":return"file://";default:return"null"}};c.exports.basicURLParse=function(e,t){t===void 0&&(t={});let r=new a(e,t.baseURL,t.encodingOverride,t.url,t.stateOverride);return r.failure?"failure":r.url};c.exports.setTheUsername=function(e,t){e.username="";let r=P.ucs2.decode(t);for(let s=0;s<r.length;++s)e.username+=U(r[s],I)};c.exports.setThePassword=function(e,t){e.password="";let r=P.ucs2.decode(t);for(let s=0;s<r.length;++s)e.password+=U(r[s],I)};c.exports.serializeHost=_;c.exports.cannotHaveAUsernamePasswordPort=xe;c.exports.serializeInteger=function(e){return String(e)};c.exports.parseURL=function(e,t){return t===void 0&&(t={}),c.exports.basicURLParse(e,{baseURL:t.baseURL,encodingOverride:t.encodingOverride})}});var G=L($=>{"use strict";var o=g();$.implementation=class{constructor(t){let r=t[0],s=t[1],i=null;if(s!==void 0&&(i=o.basicURLParse(s),i==="failure"))throw new TypeError("Invalid base URL");let n=o.basicURLParse(r,{baseURL:i});if(n==="failure")throw new TypeError("Invalid URL");this._url=n}get href(){return o.serializeURL(this._url)}set href(t){let r=o.basicURLParse(t);if(r==="failure")throw new TypeError("Invalid URL");this._url=r}get origin(){return o.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(t){o.basicURLParse(t+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(t){o.cannotHaveAUsernamePasswordPort(this._url)||o.setTheUsername(this._url,t)}get password(){return this._url.password}set password(t){o.cannotHaveAUsernamePasswordPort(this._url)||o.setThePassword(this._url,t)}get host(){let t=this._url;return t.host===null?"":t.port===null?o.serializeHost(t.host):o.serializeHost(t.host)+":"+o.serializeInteger(t.port)}set host(t){this._url.cannotBeABaseURL||o.basicURLParse(t,{url:this._url,stateOverride:"host"})}get hostname(){return this._url.host===null?"":o.serializeHost(this._url.host)}set hostname(t){this._url.cannotBeABaseURL||o.basicURLParse(t,{url:this._url,stateOverride:"hostname"})}get port(){return this._url.port===null?"":o.serializeInteger(this._url.port)}set port(t){o.cannotHaveAUsernamePasswordPort(this._url)||(t===""?this._url.port=null:o.basicURLParse(t,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:this._url.path.length===0?"":"/"+this._url.path.join("/")}set pathname(t){this._url.cannotBeABaseURL||(this._url.path=[],o.basicURLParse(t,{url:this._url,stateOverride:"path start"}))}get search(){return this._url.query===null||this._url.query===""?"":"?"+this._url.query}set search(t){let r=this._url;if(t===""){r.query=null;return}let s=t[0]==="?"?t.substring(1):t;r.query="",o.basicURLParse(s,{url:r,stateOverride:"query"})}get hash(){return this._url.fragment===null||this._url.fragment===""?"":"#"+this._url.fragment}set hash(t){if(t===""){this._url.fragment=null;return}let r=t[0]==="#"?t.substring(1):t;this._url.fragment="",o.basicURLParse(r,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}});var X=L((Ce,x)=>{"use strict";var b=E("webidl-conversions"),K=C(),Q=G(),u=K.implSymbol;function p(e){if(!this||this[u]||!(this instanceof p))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");let t=[];for(let r=0;r<arguments.length&&r<2;++r)t[r]=arguments[r];t[0]=b.USVString(t[0]),t[1]!==void 0&&(t[1]=b.USVString(t[1])),x.exports.setup(this,t)}p.prototype.toJSON=function(){if(!this||!x.exports.is(this))throw new TypeError("Illegal invocation");let t=[];for(let r=0;r<arguments.length&&r<0;++r)t[r]=arguments[r];return this[u].toJSON.apply(this[u],t)};Object.defineProperty(p.prototype,"href",{get(){return this[u].href},set(e){e=b.USVString(e),this[u].href=e},enumerable:!0,configurable:!0});p.prototype.toString=function(){if(!this||!x.exports.is(this))throw new TypeError("Illegal invocation");return this.href};Object.defineProperty(p.prototype,"origin",{get(){return this[u].origin},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"protocol",{get(){return this[u].protocol},set(e){e=b.USVString(e),this[u].protocol=e},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"username",{get(){return this[u].username},set(e){e=b.USVString(e),this[u].username=e},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"password",{get(){return this[u].password},set(e){e=b.USVString(e),this[u].password=e},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"host",{get(){return this[u].host},set(e){e=b.USVString(e),this[u].host=e},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"hostname",{get(){return this[u].hostname},set(e){e=b.USVString(e),this[u].hostname=e},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"port",{get(){return this[u].port},set(e){e=b.USVString(e),this[u].port=e},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"pathname",{get(){return this[u].pathname},set(e){e=b.USVString(e),this[u].pathname=e},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"search",{get(){return this[u].search},set(e){e=b.USVString(e),this[u].search=e},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"hash",{get(){return this[u].hash},set(e){e=b.USVString(e),this[u].hash=e},enumerable:!0,configurable:!0});x.exports={is(e){return!!e&&e[u]instanceof Q.implementation},create(e,t){let r=Object.create(p.prototype);return this.setup(r,e,t),r},setup(e,t,r){r||(r={}),r.wrapper=e,e[u]=new Q.implementation(t,r),e[u][K.wrapperSymbol]=e},interface:p,expose:{Window:{URL:p},Worker:{URL:p}}}});var Y=L(y=>{"use strict";y.URL=X().interface;y.serializeURL=g().serializeURL;y.serializeURLOrigin=g().serializeURLOrigin;y.basicURLParse=g().basicURLParse;y.setTheUsername=g().setTheUsername;y.setThePassword=g().setThePassword;y.serializeHost=g().serializeHost;y.serializeInteger=g().serializeInteger;y.parseURL=g().parseURL});var q=ne(Y()),{URL:Te,serializeURL:He,serializeURLOrigin:je,basicURLParse:De,setTheUsername:ke,setThePassword:We,serializeHost:Me,serializeInteger:Je,parseURL:Ze}=q,$e=q.default??q;export{Te as URL,De as basicURLParse,$e as default,Ze as parseURL,Me as serializeHost,Je as serializeInteger,He as serializeURL,je as serializeURLOrigin,We as setThePassword,ke as setTheUsername};
//# sourceMappingURL=whatwg-url.mjs.map
// denoCacheMetadata={"headers":{"vary":"Accept-Encoding","age":"157806","cf-cache-status":"HIT","last-modified":"Wed, 15 Jan 2025 08:29:24 GMT","access-control-allow-origin":"*","alt-svc":"h3=\":443\"; ma=86400","cf-ray":"941f7c5e588296a6-KIX","cache-control":"public, max-age=31536000, immutable","server":"cloudflare","date":"Mon, 19 May 2025 00:30:27 GMT","content-type":"application/javascript; charset=utf-8"},"url":"https://esm.sh/whatwg-url@5.0.0/denonext/whatwg-url.mjs","time":1747614627}